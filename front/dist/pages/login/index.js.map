<<<<<<< HEAD
{"version":3,"sources":[""],"names":[],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;;;AAIA;AACA;AACA;AACA;AACA;;;;AAIA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}
=======
{"version":3,"file":"pages/login/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://myApp/./src/pages/login/index.tsx?84ae","webpack://myApp/._src_pages_login_index.tsx"],"sourcesContent":["import React from \"react\";\nimport Taro from \"@tarojs/taro\";\nimport { View, Button, Text } from \"@tarojs/components\";\nimport { AtIcon } from \"taro-ui\";\nimport { setToken } from \"@/utils/auth\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Login(_ref) {\n  let {} = _ref;\n  const handleWxLogin = async () => {\n    try {\n      Taro.login({\n        success: async res => {\n          if (res.code) {\n            const response = await Taro.request({\n              url: \"http://localhost:5000/api/user/wx-login\",\n              method: \"POST\",\n              data: {\n                code: res.code\n              }\n            });\n            if (response.data.success) {\n              // 保存 token 和用户信息\n              setToken(response.data.token);\n              Taro.reLaunch({\n                url: \"/pages/home/index\"\n              });\n            }\n          }\n        }\n      });\n    } catch (error) {\n      console.error(\"登录失败:\", error);\n    }\n  };\n  const handleCancel = () => {\n    // 返回上一页，如果没有上一页则进入首页\n    Taro.reLaunch({\n      url: \"/pages/home/index\"\n    });\n  };\n  return /*#__PURE__*/_jsxs(View, {\n    className: \"h-screen w-screen flex flex-col justify-center items-center p-4 space-y-4\",\n    children: [/*#__PURE__*/_jsxs(Button, {\n      className: \"bg-green-500 text-white rounded-md w-full flex items-center justify-center h-12\",\n      onClick: handleWxLogin,\n      children: [/*#__PURE__*/_jsx(AtIcon, {\n        prefixClass: \"at-icon\",\n        value: \"weixin\",\n        size: \"24\",\n        color: \"#ffffff\",\n        className: \"mr-2\"\n      }), /*#__PURE__*/_jsx(Text, {\n        children: \"\\u5FAE\\u4FE1\\u767B\\u5F55\"\n      })]\n    }), /*#__PURE__*/_jsx(Button, {\n      className: \"bg-gray-500 text-white rounded-md w-full h-12 mt-4\",\n      onClick: handleCancel,\n      children: \"\\u53D6\\u6D88\"\n    })]\n  });\n}","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/login/index!./index.tsx\"\nvar config = {};\n\n\n\nvar taroOption = createPageConfig(component, 'pages/login/index', {root:{cn:[]}}, config || {})\nif (component && component.behaviors) {\n  taroOption.behaviors = (taroOption.behaviors || []).concat(component.behaviors)\n}\nvar inst = Page(taroOption)\n\n\n\nexport default component\n"],"names":[],"sourceRoot":""}
>>>>>>> 0b656848ed1f3d3219a14cfb4bf40a131a09b680
