{"version":3,"file":"pages/classify/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC1HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://myApp/./src/pages/classify/index.tsx?7733","webpack://myApp/._src_pages_classify_index.tsx"],"sourcesContent":["import Footer from \"@/components/Footer\";\nimport Header from \"@/components/Header\";\nimport ProductBlock from \"@/components/ProductBlock\";\nimport { ScrollView, View, Text } from \"@tarojs/components\";\nimport Taro from \"@tarojs/taro\";\nimport { useEffect, useState } from \"react\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Index() {\n  const [selectedCategory, setSelectedCategory] = useState(\"手机\");\n  const [products, setProducts] = useState([]);\n  const categories = [{\n    id: 1,\n    name: \"手机\",\n    icon: \"📱\"\n  }, {\n    id: 2,\n    name: \"电脑\",\n    icon: \"💻\"\n  }, {\n    id: 3,\n    name: \"服饰\",\n    icon: \"👔\"\n  }, {\n    id: 4,\n    name: \"鞋子\",\n    icon: \"👟\"\n  }, {\n    id: 5,\n    name: \"手表\",\n    icon: \"⌚\"\n  }, {\n    id: 6,\n    name: \"相机\",\n    icon: \"📷\"\n  }, {\n    id: 7,\n    name: \"家电\",\n    icon: \"🏠\"\n  }, {\n    id: 8,\n    name: \"其他\",\n    icon: \"📦\"\n  }];\n\n  // 获取商品数据\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        const res = await Taro.request({\n          url: \"http://localhost:5000/api/product\",\n          method: \"GET\"\n        });\n\n        // 过滤出激活状态的商品\n        const activeProducts = res.data.filter(product => product.status === \"active\");\n        setProducts(activeProducts);\n      } catch (error) {\n        console.error(\"获取商品失败:\", error);\n      }\n    };\n    fetchProducts();\n  }, []);\n\n  // 处理类别点击\n  const handleCategoryClick = categoryName => {\n    setSelectedCategory(categoryName);\n  };\n\n  // 过滤当前类别的商品\n  const filteredProducts = products.filter(product => product.category === selectedCategory);\n  return /*#__PURE__*/_jsxs(View, {\n    className: \"min-h-screen\",\n    children: [/*#__PURE__*/_jsx(Header, {}), /*#__PURE__*/_jsxs(ScrollView, {\n      className: \"fixed top-[11%] h-[84%] bg-gray-100 overflow-y-scroll w-full\",\n      scrollY: true,\n      enableFlex: true,\n      children: [/*#__PURE__*/_jsx(View, {\n        className: \"bg-white p-4\",\n        children: /*#__PURE__*/_jsx(View, {\n          className: \"grid grid-cols-4 gap-4\",\n          children: categories.map(category => /*#__PURE__*/_jsxs(View, {\n            className: `flex flex-col items-center justify-center p-2 rounded-lg cursor-pointer ${selectedCategory === category.name ? \"bg-yellow-100 text-yellow-600\" : \"bg-gray-50\"}`,\n            onClick: () => handleCategoryClick(category.name),\n            children: [/*#__PURE__*/_jsx(Text, {\n              className: \"text-2xl mb-1\",\n              children: category.icon\n            }), /*#__PURE__*/_jsx(Text, {\n              className: \"text-sm\",\n              children: category.name\n            })]\n          }, category.id))\n        })\n      }), /*#__PURE__*/_jsxs(View, {\n        className: \"p-4\",\n        children: [/*#__PURE__*/_jsxs(View, {\n          className: \"flex items-center mb-4\",\n          children: [/*#__PURE__*/_jsx(View, {\n            className: \"w-1 h-6 bg-yellow-500 mr-2\"\n          }), /*#__PURE__*/_jsx(Text, {\n            className: \"text-lg font-bold\",\n            children: selectedCategory\n          })]\n        }), filteredProducts.length > 0 ? /*#__PURE__*/_jsx(View, {\n          className: \"grid grid-cols-2 gap-4\",\n          children: filteredProducts.map(product => /*#__PURE__*/_jsx(ProductBlock, {\n            id: product._id,\n            image: product.image,\n            name: product.name,\n            price: product.price,\n            description: product.description,\n            onClick: () => {}\n          }, product._id))\n        }) : /*#__PURE__*/_jsx(View, {\n          className: \"flex flex-col items-center justify-center py-8\",\n          children: /*#__PURE__*/_jsx(Text, {\n            className: \"text-gray-500\",\n            children: \"\\u6682\\u65E0\\u5546\\u54C1\"\n          })\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(Footer, {})]\n  });\n}","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/classify/index!./index.tsx\"\nvar config = {};\n\n\n\nvar taroOption = createPageConfig(component, 'pages/classify/index', {root:{cn:[]}}, config || {})\nif (component && component.behaviors) {\n  taroOption.behaviors = (taroOption.behaviors || []).concat(component.behaviors)\n}\nvar inst = Page(taroOption)\n\n\n\nexport default component\n"],"names":[],"sourceRoot":""}