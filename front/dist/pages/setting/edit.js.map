{"version":3,"file":"pages/setting/edit.js","mappings":";;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://myApp/./src/pages/setting/edit.tsx?fe6f","webpack://myApp/._src_pages_setting_edit.tsx"],"sourcesContent":["import { Text, Form, Input, Button, Label } from \"@tarojs/components\";\nimport Taro from \"@tarojs/taro\";\nimport { useState, useEffect } from \"react\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function EditAdmin() {\n  const [admin, setAdmin] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  useEffect(() => {\n    const adminInfo = Taro.getStorageSync('adminInfo');\n    Taro.request({\n      url: \"http://localhost:5000/api/admin\",\n      method: \"GET\",\n      header: {\n        'admin-id': adminInfo._id\n      },\n      success: res => {\n        if (res.data.success) {\n          setAdmin(res.data.data);\n        } else {\n          Taro.showToast({\n            title: res.data.message || '获取用户信息失败',\n            icon: 'error'\n          });\n        }\n      },\n      fail: err => {\n        console.error('获取用户数据失败:', err);\n        Taro.showToast({\n          title: '获取用户信息失败',\n          icon: 'error'\n        });\n      }\n    });\n  }, []);\n  const handleSubmit = e => {\n    e.preventDefault();\n    const adminInfo = Taro.getStorageSync('adminInfo');\n    Taro.request({\n      url: \"http://localhost:5000/api/admin\",\n      method: \"PUT\",\n      data: admin,\n      header: {\n        'admin-id': adminInfo._id\n      },\n      success: () => {\n        Taro.showToast({\n          title: '更新成功',\n          icon: 'success'\n        });\n        Taro.reLaunch({\n          url: \"/pages/setting/index\"\n        });\n      },\n      fail: err => {\n        console.error('更新失败:', err);\n        Taro.showToast({\n          title: '更新失败',\n          icon: 'error'\n        });\n      }\n    });\n  };\n  const handleCancel = () => {\n    Taro.reLaunch({\n      url: \"/pages/setting/index\"\n    });\n  };\n  return /*#__PURE__*/_jsx(\"view\", {\n    className: \"w-screen h-screen bg-[#e8e8e8] flex items-center justify-center p-4\",\n    children: /*#__PURE__*/_jsxs(Form, {\n      onSubmit: handleSubmit,\n      className: \"w-full max-w-lg h-auto bg-white rounded-lg shadow-lg p-6 space-y-4\",\n      children: [/*#__PURE__*/_jsx(Text, {\n        className: \"text-2xl font-bold block text-center mb-6\",\n        children: \"\\u7F16\\u8F91\\u7BA1\\u7406\\u5458\"\n      }), /*#__PURE__*/_jsx(Label, {\n        className: \"block text-gray-700 text-sm font-bold mt-1\",\n        children: \"\\u540D\\u79F0:\"\n      }), /*#__PURE__*/_jsx(Input, {\n        name: \"name\",\n        value: admin.name,\n        onInput: e => setAdmin({\n          ...admin,\n          name: e.detail.value\n        }),\n        className: \"w-full h-[50px] border-solid border-[1px] p-2 border-gray-300 rounded\"\n      }), /*#__PURE__*/_jsx(Label, {\n        className: \"block text-gray-700 text-sm font-bold mt-1\",\n        children: \"\\u90AE\\u7BB1:\"\n      }), /*#__PURE__*/_jsx(Input, {\n        name: \"email\",\n        value: admin.email,\n        onInput: e => setAdmin({\n          ...admin,\n          email: e.detail.value\n        }),\n        className: \"w-full h-[50px] border-solid border-[1px] p-2 border-gray-300 rounded\"\n      }), /*#__PURE__*/_jsx(Label, {\n        className: \"block text-gray-700 text-sm font-bold mt-1\",\n        children: \"\\u5BC6\\u7801:\"\n      }), /*#__PURE__*/_jsx(Input, {\n        name: \"password\",\n        value: admin.password,\n        onInput: e => setAdmin({\n          ...admin,\n          password: e.detail.value\n        }),\n        className: \"w-full h-[50px] border-solid border-[1px] p-2 border-gray-300 rounded\"\n      }), /*#__PURE__*/_jsx(Button, {\n        className: \"w-full bg-[#fbb713] text-white h-12 rounded mt-6\",\n        hoverClass: \"bg-yellow-500\",\n        formType: \"submit\",\n        children: \"\\u4FDD\\u5B58\"\n      }), /*#__PURE__*/_jsx(Button, {\n        className: \"w-full bg-red-500 text-white h-12 rounded mt-4\",\n        hoverClass: \"bg-red-600\",\n        onClick: handleCancel,\n        children: \"\\u53D6\\u6D88\"\n      })]\n    })\n  });\n}","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/setting/edit!./edit.tsx\"\nvar config = {};\n\n\n\nvar taroOption = createPageConfig(component, 'pages/setting/edit', {root:{cn:[]}}, config || {})\nif (component && component.behaviors) {\n  taroOption.behaviors = (taroOption.behaviors || []).concat(component.behaviors)\n}\nvar inst = Page(taroOption)\n\n\n\nexport default component\n"],"names":[],"sourceRoot":""}