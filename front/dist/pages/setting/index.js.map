{"version":3,"file":"pages/setting/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://myApp/./src/pages/setting/index.tsx?7c6d","webpack://myApp/._src_pages_setting_index.tsx"],"sourcesContent":["/*\r\n * @Author: alan alan.shi@duomai.com\r\n * @Date: 2025-03-05 14:51:28\r\n * @LastEditors: alan alan.shi@duomai.com\r\n * @LastEditTime: 2025-03-05 15:43:13\r\n * @FilePath: \\front\\src\\pages\\Setting.tsx\r\n * @Description: è¿™æ˜¯é»˜è®¤è®¾ç½®,è¯·è®¾ç½®`customMade`, æ‰“å¼€koroFileHeaderæŸ¥çœ‹é…ç½® è¿›è¡Œè®¾ç½®: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE\r\n */\nimport { View, Text, Button, ScrollView } from '@tarojs/components';\nimport Header from '@/components/Header';\nimport Footer from '@/components/Footer';\nimport Taro from '@tarojs/taro';\nimport { useEffect, useState } from 'react';\nimport { jsxs as _jsxs, jsx as _jsx } from \"react/jsx-runtime\";\nconst StatListItem = _ref => {\n  let {\n    item\n  } = _ref;\n  return /*#__PURE__*/_jsxs(View, {\n    className: \"flex justify-between items-center border-b border-gray-100 pb-2\",\n    children: [/*#__PURE__*/_jsx(View, {\n      className: \"flex items-center gap-2\",\n      children: /*#__PURE__*/_jsxs(Text, {\n        className: \"text-gray-600\",\n        children: [item.icon, \" \", item.name]\n      })\n    }), /*#__PURE__*/_jsxs(Text, {\n      className: \"text-sm text-gray-500\",\n      children: [item.count, item.unit]\n    })]\n  });\n};\nexport default function Setting(_ref2) {\n  let {} = _ref2;\n  const statData = [{\n    icon: 'ðŸ‘ï¸',\n    name: 'å°ç±³20',\n    count: '1w',\n    unit: 'äººæµè§ˆ'\n  }, {\n    icon: 'ðŸ’¬',\n    name: 'æ°´æžœ10',\n    count: '1k',\n    unit: 'äººè¯„è®º'\n  }, {\n    icon: 'ðŸ‘ï¸',\n    name: 'å°ç±³20',\n    count: '1w',\n    unit: 'äººæµè§ˆ'\n  }, {\n    icon: 'ðŸ‘ï¸',\n    name: 'å°ç±³20',\n    count: '1w',\n    unit: 'äººæµè§ˆ'\n  }, {\n    icon: 'ðŸ’¬',\n    name: 'æ°´æžœ10',\n    count: '1k',\n    unit: 'äººè¯„è®º'\n  }, {\n    icon: 'ðŸ‘ï¸',\n    name: 'å°ç±³20',\n    count: '1w',\n    unit: 'äººæµè§ˆ'\n  }, {\n    icon: 'ðŸ‘ï¸',\n    name: 'å°ç±³20',\n    count: '1w',\n    unit: 'äººæµè§ˆ'\n  }, {\n    icon: 'ðŸ’¬',\n    name: 'æ°´æžœ10',\n    count: '1k',\n    unit: 'äººè¯„è®º'\n  }, {\n    icon: 'ðŸ‘ï¸',\n    name: 'å°ç±³20',\n    count: '1w',\n    unit: 'äººæµè§ˆ'\n  }];\n  const [admin, setAdmin] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const getAdmin = () => {\n    const adminInfo = Taro.getStorageSync('adminInfo');\n    Taro.request({\n      url: \"http://localhost:5000/api/admin\",\n      method: \"GET\",\n      header: {\n        'admin-id': adminInfo._id\n      },\n      success: res => {\n        setAdmin({\n          name: res.data.data.name,\n          email: res.data.data.email,\n          password: \"\"\n        });\n      },\n      fail: err => {\n        console.log(err);\n      }\n    });\n  };\n  useEffect(() => {\n    getAdmin();\n  }, []);\n  const handleLogout = () => {\n    console.log(\"é€€å‡ºç™»å½•...\");\n\n    // æ¸…é™¤ Token\n    Taro.removeStorageSync(\"token\");\n    Taro.removeStorageSync('adminInfo');\n\n    // æç¤ºä¿¡æ¯\n    Taro.showToast({\n      title: \"å·²é€€å‡ºç™»å½•\",\n      icon: \"success\"\n    });\n\n    // è·³è½¬å›žç™»å½•é¡µ\n    setTimeout(() => {\n      Taro.redirectTo({\n        url: \"/pages/login/index\"\n      });\n    }, 1000); // å»¶è¿Ÿ 1 ç§’ï¼Œè®©ç”¨æˆ·çœ‹åˆ°é€€å‡ºæç¤º\n  };\n  const handleEdit = () => {\n    Taro.reLaunch({\n      url: \"/pages/setting/edit\"\n    });\n  };\n  return /*#__PURE__*/_jsxs(View, {\n    className: \"h-screen w-screen\",\n    children: [/*#__PURE__*/_jsx(Header, {}), /*#__PURE__*/_jsxs(View, {\n      className: \"fixed top-[11%] h-[84%] bg-gray-100 w-full p-4\",\n      children: [/*#__PURE__*/_jsxs(View, {\n        className: \"bg-white rounded-lg shadow p-6 max-w-md mx-auto\",\n        children: [/*#__PURE__*/_jsxs(View, {\n          className: \"mb-6 flex items-center justify-center gap-2\",\n          children: [/*#__PURE__*/_jsx(Text, {\n            className: \"text-lg font-bold mt-1\",\n            children: \"\\uD83D\\uDDFF\"\n          }), /*#__PURE__*/_jsx(Text, {\n            className: \"text-lg font-bold mt-1\",\n            children: admin.name\n          })]\n        }), /*#__PURE__*/_jsx(Button, {\n          className: \"bg-[#fbb713] text-white rounded-md w-full mb-4\",\n          hoverClass: \"bg-yellow-500\",\n          onClick: handleEdit,\n          children: \"\\u7F16\\u8F91\\u4E2A\\u4EBA\\u4FE1\\u606F\"\n        }), /*#__PURE__*/_jsx(Button, {\n          formType: \"submit\",\n          className: \"bg-red-500 text-white rounded-md w-full\",\n          hoverClass: \"bg-red-600\",\n          onClick: handleLogout,\n          children: \"\\u9000\\u51FA\\u767B\\u5F55\"\n        })]\n      }), /*#__PURE__*/_jsxs(View, {\n        className: \"bg-white rounded-lg shadow p-6 mx-auto mt-4 h-[66%]\",\n        children: [/*#__PURE__*/_jsx(Text, {\n          className: \"text-lg font-bold\",\n          children: \"\\u6211\\u7684\\u53D1\\u5E03\"\n        }), /*#__PURE__*/_jsx(ScrollView, {\n          className: \"overflow-y-scroll h-[90%] py-4\",\n          scrollY: true,\n          enableFlex: true,\n          children: /*#__PURE__*/_jsx(View, {\n            className: \"space-y-4 pr-4\",\n            children: statData.map((item, index) => /*#__PURE__*/_jsx(StatListItem, {\n              item: item\n            }, index))\n          })\n        })]\n      })]\n    }), /*#__PURE__*/_jsx(Footer, {})]\n  });\n}","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/setting/index!./index.tsx\"\nvar config = {};\n\n\n\nvar taroOption = createPageConfig(component, 'pages/setting/index', {root:{cn:[]}}, config || {})\nif (component && component.behaviors) {\n  taroOption.behaviors = (taroOption.behaviors || []).concat(component.behaviors)\n}\nvar inst = Page(taroOption)\n\n\n\nexport default component\n"],"names":[],"sourceRoot":""}