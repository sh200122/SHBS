{"version":3,"file":"ApiCache.js","sources":["../../../../src/api/apis/harmony-native/ApiCache.ts"],"sourcesContent":["\nexport function syncApiCache (cacheTime: number = 500) : MethodDecorator {\n  return function (_target: any, _propertyKey: string, descriptor: PropertyDescriptor) {\n    const origMethod = descriptor.value\n    let lastCall = 0\n    let lastResult: any\n\n    descriptor.value = function (...args: any[]) {\n      const now = Date.now()\n      if (now - lastCall < cacheTime) {\n        lastCall = now\n        return lastResult\n      }\n      // dev模式下origMethod为 undefined\n      lastResult = origMethod?.apply(this, args)\n      lastCall = now\n      return lastResult\n    }\n  }\n}\n"],"names":[],"mappings":"AACgB,SAAA,YAAY,CAAE,SAAA,GAAoB,GAAG,EAAA;AACnD,IAAA,OAAO,UAAU,OAAY,EAAE,YAAoB,EAAE,UAA8B,EAAA;AACjF,QAAA,MAAM,UAAU,GAAG,UAAU,CAAC,KAAK,CAAA;QACnC,IAAI,QAAQ,GAAG,CAAC,CAAA;AAChB,QAAA,IAAI,UAAe,CAAA;AAEnB,QAAA,UAAU,CAAC,KAAK,GAAG,UAAU,GAAG,IAAW,EAAA;AACzC,YAAA,MAAM,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAA;AACtB,YAAA,IAAI,GAAG,GAAG,QAAQ,GAAG,SAAS,EAAE;gBAC9B,QAAQ,GAAG,GAAG,CAAA;AACd,gBAAA,OAAO,UAAU,CAAA;aAClB;;AAED,YAAA,UAAU,GAAG,UAAU,KAAV,IAAA,IAAA,UAAU,KAAV,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,UAAU,CAAE,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAA;YAC1C,QAAQ,GAAG,GAAG,CAAA;AACd,YAAA,OAAO,UAAU,CAAA;AACnB,SAAC,CAAA;AACH,KAAC,CAAA;AACH;;;;"}