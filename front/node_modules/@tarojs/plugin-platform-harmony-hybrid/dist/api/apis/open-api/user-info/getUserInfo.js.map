{"version":3,"file":"getUserInfo.js","sources":["../../../../../src/api/apis/open-api/user-info/getUserInfo.ts"],"sourcesContent":["import Taro from '@tarojs/taro'\n\nimport native from '../../NativeApi'\nimport { shouldBeObject } from '../../utils'\nimport { MethodHandler } from '../../utils/handler'\n/**\n * 获取用户信息\n *\n * @canUse getUserInfo\n * @__object [lang, withCredentials]\n * @__success [userInfo]\n */\nexport const getUserInfo: typeof Taro.getUserInfo = (options) => {\n  const name = 'getUserInfo'\n\n  // options must be an Object\n  const isObject = shouldBeObject(options)\n  if (!isObject.flag) {\n    const res = { errMsg: `${name}:fail ${isObject.msg}` }\n    console.error(res.errMsg)\n    return Promise.reject(res)\n  }\n\n  const { lang, withCredentials, success, fail, complete } = options as Exclude<typeof options, undefined>\n\n  const handle = new MethodHandler({ name, success, fail, complete })\n\n  const ret = native.getUserInfo({\n    lang: lang,\n    withCredentials: withCredentials,\n    success: (res: any) => {\n      return handle.success(res)\n    },\n    fail: (err: any) => {\n      return handle.fail(err)\n    },\n  })\n  return ret\n}\n\n/**\n * 用户信息\n *\n * @canUse UserInfo\n * @__class [nickName, avatarUrl]\n */\n"],"names":[],"mappings":";;;;AAKA;;;;;;AAMG;AACU,MAAA,WAAW,GAA4B,CAAC,OAAO,KAAI;IAC9D,MAAM,IAAI,GAAG,aAAa,CAAA;;AAG1B,IAAA,MAAM,QAAQ,GAAG,cAAc,CAAC,OAAO,CAAC,CAAA;AACxC,IAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;AAClB,QAAA,MAAM,GAAG,GAAG,EAAE,MAAM,EAAE,CAAA,EAAG,IAAI,CAAA,MAAA,EAAS,QAAQ,CAAC,GAAG,CAAA,CAAE,EAAE,CAAA;AACtD,QAAA,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;AACzB,QAAA,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;KAC3B;AAED,IAAA,MAAM,EAAE,IAAI,EAAE,eAAe,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,OAA6C,CAAA;AAExG,IAAA,MAAM,MAAM,GAAG,IAAI,aAAa,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAA;AAEnE,IAAA,MAAM,GAAG,GAAG,MAAM,CAAC,WAAW,CAAC;AAC7B,QAAA,IAAI,EAAE,IAAI;AACV,QAAA,eAAe,EAAE,eAAe;AAChC,QAAA,OAAO,EAAE,CAAC,GAAQ,KAAI;AACpB,YAAA,OAAO,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;SAC3B;AACD,QAAA,IAAI,EAAE,CAAC,GAAQ,KAAI;AACjB,YAAA,OAAO,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;SACxB;AACF,KAAA,CAAC,CAAA;AACF,IAAA,OAAO,GAAG,CAAA;AACZ,EAAC;AAED;;;;;AAKG;;;;"}