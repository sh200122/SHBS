import native from '../../NativeApi.js';
import { shouldBeObject } from '../../utils/index.js';
import { MethodHandler } from '../../utils/handler.js';

/**
 * 获取用户信息
 *
 * @canUse getUserInfo
 * @__object [lang, withCredentials]
 * @__success [userInfo]
 */
const getUserInfo = (options) => {
    const name = 'getUserInfo';
    // options must be an Object
    const isObject = shouldBeObject(options);
    if (!isObject.flag) {
        const res = { errMsg: `${name}:fail ${isObject.msg}` };
        console.error(res.errMsg);
        return Promise.reject(res);
    }
    const { lang, withCredentials, success, fail, complete } = options;
    const handle = new MethodHandler({ name, success, fail, complete });
    const ret = native.getUserInfo({
        lang: lang,
        withCredentials: withCredentials,
        success: (res) => {
            return handle.success(res);
        },
        fail: (err) => {
            return handle.fail(err);
        },
    });
    return ret;
};
/**
 * 用户信息
 *
 * @canUse UserInfo
 * @__class [nickName, avatarUrl]
 */

export { getUserInfo };
//# sourceMappingURL=getUserInfo.js.map
