{"version":3,"file":"index.js","sources":["../../../../../src/api/apis/media/map/index.ts"],"sourcesContent":["import Taro from '@tarojs/taro'\n\nimport { findDOM } from '../../utils'\nimport { HosMapContext } from './HosMapContext'\nimport { MapContext } from './MapContext'\n\n/**\n * 创建 map 上下文 MapContext 对象。\n *\n * @canUse createMapContext\n */\nexport const createMapContext: typeof Taro.createMapContext = (id, inst, isHosMap = true) => {\n  let el = findDOM(inst) as HTMLDivElement | undefined\n  if (!el) {\n    el = window.document.getElementById(id) as HTMLDivElement\n  }\n  if (isHosMap) {\n    const mapEmbedId = (el.querySelector(`div[id=${id}]`)?.childNodes[0] as HTMLEmbedElement).id\n    const context = new HosMapContext(mapEmbedId)\n    return context\n  } else {\n    const Map = el.querySelector(`taro-map-core[id=${id}]`) as unknown as Taro.MapContext\n    const context = new MapContext(Map)\n    return context\n  }\n}\n"],"names":[],"mappings":";;;;AAMA;;;;AAIG;AACI,MAAM,gBAAgB,GAAiC,CAAC,EAAE,EAAE,IAAI,EAAE,QAAQ,GAAG,IAAI,KAAI;;AAC1F,IAAA,IAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAA+B,CAAA;IACpD,IAAI,CAAC,EAAE,EAAE;QACP,EAAE,GAAG,MAAM,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAmB,CAAA;KAC1D;IACD,IAAI,QAAQ,EAAE;QACZ,MAAM,UAAU,GAAG,CAAC,CAAA,EAAA,GAAA,EAAE,CAAC,aAAa,CAAC,CAAU,OAAA,EAAA,EAAE,GAAG,CAAC,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,UAAU,CAAC,CAAC,CAAsB,EAAC,EAAE,CAAA;AAC5F,QAAA,MAAM,OAAO,GAAG,IAAI,aAAa,CAAC,UAAU,CAAC,CAAA;AAC7C,QAAA,OAAO,OAAO,CAAA;KACf;SAAM;QACL,MAAM,GAAG,GAAG,EAAE,CAAC,aAAa,CAAC,CAAoB,iBAAA,EAAA,EAAE,CAAG,CAAA,CAAA,CAA+B,CAAA;AACrF,QAAA,MAAM,OAAO,GAAG,IAAI,UAAU,CAAC,GAAG,CAAC,CAAA;AACnC,QAAA,OAAO,OAAO,CAAA;KACf;AACH;;;;"}