import { findDOM } from '../../utils/index.js';
import { HosMapContext } from './HosMapContext.js';
import { MapContext } from './MapContext.js';

/**
 * 创建 map 上下文 MapContext 对象。
 *
 * @canUse createMapContext
 */
const createMapContext = (id, inst, isHosMap = true) => {
    var _a;
    let el = findDOM(inst);
    if (!el) {
        el = window.document.getElementById(id);
    }
    if (isHosMap) {
        const mapEmbedId = ((_a = el.querySelector(`div[id=${id}]`)) === null || _a === void 0 ? void 0 : _a.childNodes[0]).id;
        const context = new HosMapContext(mapEmbedId);
        return context;
    }
    else {
        const Map = el.querySelector(`taro-map-core[id=${id}]`);
        const context = new MapContext(Map);
        return context;
    }
};

export { createMapContext };
//# sourceMappingURL=index.js.map
