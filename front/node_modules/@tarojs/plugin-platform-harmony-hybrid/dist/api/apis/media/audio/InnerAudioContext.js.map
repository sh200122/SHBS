{"version":3,"file":"InnerAudioContext.js","sources":["../../../../../src/api/apis/media/audio/InnerAudioContext.ts"],"sourcesContent":["import Taro from '@tarojs/api'\n\nimport { permanentlyNotSupport } from '../../utils'\nimport { CallbackManager } from '../../utils/handler'\n\n/**\n * InnerAudioContext 实例\n *\n * @canUse InnerAudioContext\n * @__class\n * [play, pause, stop, seek, destroy, onCanplay, onPlay, onPause, onStop, onEnded,\\\n * onTimeUpdate, onError, onWaiting, onSeeking, onSeeked, offCanplay, offPlay, offPause, offStop, offEnded,\\\n * offTimeUpdate, offError, offWaiting, offSeeking, offSeeked]\n */\nexport class InnerAudioContext implements Taro.InnerAudioContext {\n  Instance?: HTMLAudioElement\n  errorStack: CallbackManager\n  stopStack: CallbackManager\n  __startTime = 0\n  __isFirstPlay = true\n  MIN_PLAYBACKRATE = 0.5\n  MAX_PLAYBACKRATE = 2.0\n\n  constructor () {\n    this.Instance = new Audio()\n    this.errorStack = new CallbackManager()\n    this.stopStack = new CallbackManager()\n\n    Taro.eventCenter.on('__taroRouterChange', () => {\n      this.stop()\n    })\n    this.onPlay(() => {\n      if (this.__isFirstPlay) {\n        this.__isFirstPlay = false\n        this.seek(this.startTime)\n      }\n    })\n    document.body.appendChild(this.Instance)\n  }\n\n  set autoplay (e) {\n    this.setProperty('autoplay', e)\n  }\n\n  get autoplay () {\n    return this.Instance?.autoplay || false\n  }\n\n  get buffered () {\n    return this.Instance?.buffered.length || 0\n  }\n\n  get currentTime () {\n    return this.Instance?.currentTime || 0\n  }\n\n  set currentTime (e) {\n    this.seek(e)\n  }\n\n  get duration () {\n    return this.Instance?.duration || 0\n  }\n\n  set loop (e) {\n    this.setProperty('loop', e)\n  }\n\n  get loop () {\n    return this.Instance?.loop || false\n  }\n\n  get paused () {\n    return this.Instance?.paused ?? true\n  }\n\n  set src (e) {\n    this.setProperty('src', e)\n  }\n\n  get src () {\n    return this.Instance?.src || ''\n  }\n\n  set volume (e) {\n    this.setProperty('volume', e)\n  }\n\n  get volume () {\n    return this.Instance?.volume || 1\n  }\n\n  set playbackRate (e) {\n    if (e < this.MIN_PLAYBACKRATE) {\n      e = this.MIN_PLAYBACKRATE\n    }\n    if (e > this.MAX_PLAYBACKRATE) {\n      e = this.MAX_PLAYBACKRATE\n    }\n    this.setProperty('playbackRate', e)\n  }\n\n  get playbackRate () {\n    return this.Instance?.playbackRate || 1\n  }\n\n  set obeyMuteSwitch (_e) {\n    permanentlyNotSupport('InnerAudioContext.obeyMuteSwitch')()\n  }\n\n  get obeyMuteSwitch () {\n    return true\n  }\n\n  set startTime (e) {\n    this.__startTime = e\n  }\n\n  get startTime () {\n    return this.__startTime || 0\n  }\n\n  set referrerPolicy (e) {\n    this.Instance?.setAttribute('referrerpolicy', e)\n  }\n\n  get referrerPolicy () {\n    return this.Instance?.getAttribute('referrerpolicy') || 'origin'\n  }\n\n  private setProperty (key: string, value: unknown) {\n    if (this.Instance) {\n      this.Instance[key] = value\n    }\n  }\n\n  play = () => this.Instance?.play()\n\n  pause = () => this.Instance?.pause()\n\n  stop = () => {\n    this.pause()\n    this.seek(0)\n    this.stopStack.trigger()\n  }\n\n  seek = (position: number) => {\n    if (this.Instance) {\n      this.Instance.currentTime = position\n    }\n  }\n\n  /**\n   * @TODO destroy得并不干净\n   */\n  destroy = () => {\n    this.stop()\n    if (this.Instance) {\n      document.body.removeChild(this.Instance)\n      this.Instance = undefined\n    }\n  }\n\n  canPlayCallback = () => {}\n\n  playCallback = () => {}\n\n  pauseCallback = () => {}\n\n  stopCallback = () => {}\n\n  endedCallback = () => {}\n\n  timeUpdateCallback = () => {}\n\n  waitingCallback = () => {}\n\n  seekingCallback = () => {}\n\n  seekedCallback = () => {}\n\n  errorCallback = () => {}\n\n  onCanplay = (callback: Taro.InnerAudioContext.OnCanplayCallback = this.canPlayCallback) =>\n    this.Instance?.addEventListener('canplay', callback as any)\n\n  onPlay = (callback: Taro.InnerAudioContext.OnPlayCallback = this.playCallback) =>\n    this.Instance?.addEventListener('play', callback as any)\n\n  onPause = (callback: Taro.InnerAudioContext.OnPauseCallback = this.pauseCallback) =>\n    this.Instance?.addEventListener('pause', callback as any)\n\n  onStop = (callback: Taro.InnerAudioContext.OnStopCallback = this.stopCallback) => this.stopStack.add(callback)\n  onEnded = (callback: Taro.InnerAudioContext.OnEndedCallback = this.endedCallback) =>\n    this.Instance?.addEventListener('ended', callback as any)\n\n  onTimeUpdate = (callback: Taro.InnerAudioContext.OnTimeUpdateCallback = this.timeUpdateCallback) =>\n    this.Instance?.addEventListener('timeupdate', callback as any)\n\n  onError = (callback: Taro.InnerAudioContext.OnErrorCallback = this.errorCallback) => this.errorStack.add(callback)\n  onWaiting = (callback: Taro.InnerAudioContext.OnWaitingCallback = this.waitingCallback) =>\n    this.Instance?.addEventListener('waiting', callback as any)\n\n  onSeeking = (callback: Taro.InnerAudioContext.OnSeekingCallback = this.seekingCallback) =>\n    this.Instance?.addEventListener('seeking', callback as any)\n\n  onSeeked = (callback: Taro.InnerAudioContext.OnSeekedCallback = this.seekedCallback) =>\n    this.Instance?.addEventListener('seeked', callback as any)\n\n  offCanplay = (callback: Taro.InnerAudioContext.OnCanplayCallback = this.canPlayCallback) =>\n    this.Instance?.removeEventListener('canplay', callback as any)\n\n  offPlay = (callback: Taro.InnerAudioContext.OnPlayCallback = this.playCallback) =>\n    this.Instance?.removeEventListener('play', callback as any)\n\n  offPause = (callback: Taro.InnerAudioContext.OnPauseCallback = this.pauseCallback) =>\n    this.Instance?.removeEventListener('pause', callback as any)\n\n  offStop = (callback: Taro.InnerAudioContext.OnStopCallback = this.stopCallback) => this.stopStack.remove(callback)\n  offEnded = (callback: Taro.InnerAudioContext.OnEndedCallback = this.endedCallback) =>\n    this.Instance?.removeEventListener('ended', callback as any)\n\n  offTimeUpdate = (callback: Taro.InnerAudioContext.OnTimeUpdateCallback = this.timeUpdateCallback) =>\n    this.Instance?.removeEventListener('timeupdate', callback as any)\n\n  offError = (callback: Taro.InnerAudioContext.OnErrorCallback = this.errorCallback) => this.errorStack.remove(callback)\n  offWaiting = (callback: Taro.InnerAudioContext.OnWaitingCallback = this.waitingCallback) =>\n    this.Instance?.removeEventListener('waiting', callback as any)\n\n  offSeeking = (callback: Taro.InnerAudioContext.OnSeekingCallback = this.seekingCallback) =>\n    this.Instance?.removeEventListener('seeking', callback as any)\n\n  offSeeked = (callback: Taro.InnerAudioContext.OnSeekedCallback = this.seekedCallback) =>\n    this.Instance?.removeEventListener('seeked', callback as any)\n}\n"],"names":[],"mappings":"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"}