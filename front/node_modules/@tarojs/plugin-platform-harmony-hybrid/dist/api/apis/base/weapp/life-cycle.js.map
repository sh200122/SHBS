{"version":3,"file":"life-cycle.js","sources":["../../../../../src/api/apis/base/weapp/life-cycle.ts"],"sourcesContent":["import Taro from '@tarojs/api'\n\nfunction getCustomLaunchInfo () {\n  let launchInfo\n  try {\n    // @ts-ignore\n    const params = JSON.parse(window.customLaunchOptions)\n    launchInfo = {\n      referrerInfo: {},\n      apiCategory: 'default',\n      query: {},\n    }\n    if (params.appId) {\n      Object.assign(launchInfo.referrerInfo, { appId: params.appId })\n    }\n    if (params.extraData) {\n      Object.assign(launchInfo.referrerInfo, { extraData: params.extraData })\n    }\n    if (params.path) {\n      Object.assign(launchInfo, { path: params.path })\n    }\n    if (params.query) {\n      const parts = params.query.split('&')\n      const query = {}\n      for (const param of parts) {\n        const items = param.split('=')\n        query[items[0]] = items[1]\n      }\n      Object.assign(launchInfo, { query })\n    }\n  } catch (err) {\n    launchInfo = {\n      referrerInfo: {},\n      apiCategory: 'default',\n      query: {},\n    }\n  }\n  return launchInfo\n}\n\nlet launchOptions\nexport function initLaunchOptions (options = {}) {\n  Object.assign(options, getCustomLaunchInfo())\n  launchOptions = options\n}\n\n/**\n * 获取程序启动时的参数\n *\n * @canUse getLaunchOptionsSync\n * @__return [path, query, scene, shareTicket, referrerInfo, apiCategory]\n */\nexport const getLaunchOptionsSync: typeof Taro.getLaunchOptionsSync = () => launchOptions\n"],"names":[],"mappings":"AAEA,SAAS,mBAAmB,GAAA;AAC1B,IAAA,IAAI,UAAU,CAAA;AACd,IAAA,IAAI;;QAEF,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAA;AACrD,QAAA,UAAU,GAAG;AACX,YAAA,YAAY,EAAE,EAAE;AAChB,YAAA,WAAW,EAAE,SAAS;AACtB,YAAA,KAAK,EAAE,EAAE;SACV,CAAA;AACD,QAAA,IAAI,MAAM,CAAC,KAAK,EAAE;AAChB,YAAA,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,YAAY,EAAE,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,CAAA;SAChE;AACD,QAAA,IAAI,MAAM,CAAC,SAAS,EAAE;AACpB,YAAA,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,YAAY,EAAE,EAAE,SAAS,EAAE,MAAM,CAAC,SAAS,EAAE,CAAC,CAAA;SACxE;AACD,QAAA,IAAI,MAAM,CAAC,IAAI,EAAE;AACf,YAAA,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,IAAI,EAAE,MAAM,CAAC,IAAI,EAAE,CAAC,CAAA;SACjD;AACD,QAAA,IAAI,MAAM,CAAC,KAAK,EAAE;YAChB,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;YACrC,MAAM,KAAK,GAAG,EAAE,CAAA;AAChB,YAAA,KAAK,MAAM,KAAK,IAAI,KAAK,EAAE;gBACzB,MAAM,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;gBAC9B,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC,CAAA;aAC3B;YACD,MAAM,CAAC,MAAM,CAAC,UAAU,EAAE,EAAE,KAAK,EAAE,CAAC,CAAA;SACrC;KACF;IAAC,OAAO,GAAG,EAAE;AACZ,QAAA,UAAU,GAAG;AACX,YAAA,YAAY,EAAE,EAAE;AAChB,YAAA,WAAW,EAAE,SAAS;AACtB,YAAA,KAAK,EAAE,EAAE;SACV,CAAA;KACF;AACD,IAAA,OAAO,UAAU,CAAA;AACnB,CAAC;AAED,IAAI,aAAa,CAAA;AACD,SAAA,iBAAiB,CAAE,OAAO,GAAG,EAAE,EAAA;IAC7C,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,mBAAmB,EAAE,CAAC,CAAA;IAC7C,aAAa,GAAG,OAAO,CAAA;AACzB,CAAC;AAED;;;;;AAKG;MACU,oBAAoB,GAAqC,MAAM;;;;"}