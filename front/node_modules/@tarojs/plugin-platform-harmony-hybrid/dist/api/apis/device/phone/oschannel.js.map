{"version":3,"file":"oschannel.js","sources":["../../../../../src/api/apis/device/phone/oschannel.ts"],"sourcesContent":["import Taro from '@tarojs/api'\n\nlet call\n\ntry {\n  call = requireNapi('telephony.call')\n} catch (e) {} // eslint-disable-line no-empty\n\nconst ErrorCode = {\n  PARAMETER_ERROR: 202,\n}\n\nexport const makePhoneCall: typeof Taro.makePhoneCall = (options) => {\n  const { phoneNumber, success, fail } = options\n  if (!phoneNumber) {\n    return new Promise((_resolve, reject) => {\n      // eslint-disable-next-line prefer-promise-reject-errors\n      reject(['param is invalid.', ErrorCode.PARAMETER_ERROR])\n    })\n  }\n  return call.makeCall(phoneNumber).then(\n    () => {\n      // @ts-ignore\n      success({ errMsg: 'ok' })\n    },\n    (err: any) => {\n      console.error(`[OsChannel] start makePhoneCall fail`)\n      // @ts-ignore\n      fail({ errMsg: JSON.stringify(err) })\n    }\n  )\n}\n"],"names":[],"mappings":"AAEA,IAAI,IAAI,CAAA;AAER,IAAI;AACF,IAAA,IAAI,GAAG,WAAW,CAAC,gBAAgB,CAAC,CAAA;AACtC,CAAC;AAAC,OAAO,CAAC,EAAE,GAAE;AAEd,MAAM,SAAS,GAAG;AAChB,IAAA,eAAe,EAAE,GAAG;CACrB,CAAA;AAEY,MAAA,aAAa,GAA8B,CAAC,OAAO,KAAI;IAClE,MAAM,EAAE,WAAW,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,OAAO,CAAA;IAC9C,IAAI,CAAC,WAAW,EAAE;QAChB,OAAO,IAAI,OAAO,CAAC,CAAC,QAAQ,EAAE,MAAM,KAAI;;YAEtC,MAAM,CAAC,CAAC,mBAAmB,EAAE,SAAS,CAAC,eAAe,CAAC,CAAC,CAAA;AAC1D,SAAC,CAAC,CAAA;KACH;IACD,OAAO,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,IAAI,CACpC,MAAK;;AAEH,QAAA,OAAO,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC,CAAA;AAC3B,KAAC,EACD,CAAC,GAAQ,KAAI;AACX,QAAA,OAAO,CAAC,KAAK,CAAC,CAAA,oCAAA,CAAsC,CAAC,CAAA;;AAErD,QAAA,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE,CAAC,CAAA;AACvC,KAAC,CACF,CAAA;AACH;;;;"}