{"version":3,"file":"offCompassChange.js","sources":["../../../../../src/api/apis/device/compass/offCompassChange.ts"],"sourcesContent":["import Taro from '@tarojs/api'\nimport { shouldBeFunction } from 'src/api/apis/utils'\nimport { taroCallbackMap } from 'src/api/apis/utils/callbakMap'\n\nimport native from '../../NativeApi'\n\n/**\n * 取消监听罗盘数据变化事件，参数为空，则取消所有的事件监听。\n *\n * @canUse offCompassChange\n */\nexport const offCompassChange: typeof Taro.offCompassChange = (callback) => {\n  const name = 'offCompassChange'\n  // callback must be an Function\n  const isFunction = shouldBeFunction(callback)\n  if (!isFunction.flag) {\n    const res = { errMsg: `${name}:fail ${isFunction.msg}` }\n    console.error(res.errMsg)\n    return\n  }\n\n  try {\n    if (taroCallbackMap.has(callback)) {\n      // @ts-ignore\n      native.offCompassChange(taroCallbackMap.get(callback))\n      taroCallbackMap.delete(callback)\n    } else {\n      console.error('Invalid callback.')\n    }\n  } catch (exception) {\n    console.error(JSON.stringify(exception))\n  }\n}\n"],"names":[],"mappings":";;;;AAMA;;;;AAIG;AACU,MAAA,gBAAgB,GAAiC,CAAC,QAAQ,KAAI;IACzE,MAAM,IAAI,GAAG,kBAAkB,CAAA;;AAE/B,IAAA,MAAM,UAAU,GAAG,gBAAgB,CAAC,QAAQ,CAAC,CAAA;AAC7C,IAAA,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE;AACpB,QAAA,MAAM,GAAG,GAAG,EAAE,MAAM,EAAE,CAAA,EAAG,IAAI,CAAA,MAAA,EAAS,UAAU,CAAC,GAAG,CAAA,CAAE,EAAE,CAAA;AACxD,QAAA,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;QACzB,OAAM;KACP;AAED,IAAA,IAAI;AACF,QAAA,IAAI,eAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE;;YAEjC,MAAM,CAAC,gBAAgB,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAA;AACtD,YAAA,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAA;SACjC;aAAM;AACL,YAAA,OAAO,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAA;SACnC;KACF;IAAC,OAAO,SAAS,EAAE;QAClB,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAA;KACzC;AACH;;;;"}