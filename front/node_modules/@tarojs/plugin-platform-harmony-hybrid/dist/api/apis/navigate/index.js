import { navigateTo as navigateTo$1 } from '@tarojs/taro-h5';
import native from '../NativeApi.js';

const delay = 300;
let lastExecuteTime = 0;
let lastUrl;
/**
 * 保留当前页面，跳转到应用内的某个页面。
 * 重复点击时 navigateTo 会重复跳转，因此进行限制。
 *
 * @canUse navigateTo
 * @__object [url, events]
 */
function navigateTo(option) {
    const targetUrl = option.url;
    const executeTime = new Date().getTime();
    if (executeTime - lastExecuteTime < delay && lastUrl === targetUrl) {
        return Promise.resolve({ errMsg: 'navigateTo调用频率太高' });
    }
    lastExecuteTime = executeTime;
    lastUrl = targetUrl;
    return navigateTo$1(option);
}
/**
 * 退出当前小程序。必须有点击行为才能调用成功。
 *
 * @canUse exitMiniProgram
 */
function exitMiniProgram(option) {
    native.exitMiniProgram(option);
}

export { exitMiniProgram, navigateTo };
//# sourceMappingURL=index.js.map
