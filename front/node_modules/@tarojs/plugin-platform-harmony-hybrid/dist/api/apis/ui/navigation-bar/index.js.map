{"version":3,"file":"index.js","sources":["../../../../../src/api/apis/ui/navigation-bar/index.ts"],"sourcesContent":["import Taro from '@tarojs/api'\nimport { setTitle } from '@tarojs/router/dist/utils/navigate'\n\nimport native from '../../NativeApi'\nimport { getParameterError, shouldBeObject } from '../../utils'\nimport { MethodHandler } from '../../utils/handler'\n\n/**\n * 显示页面导航条加载图标\n *\n * @canUse showNavigationBarLoading\n */\nexport const showNavigationBarLoading: typeof Taro.showNavigationBarLoading = (options?) => {\n  const { success, fail, complete } = (options || {}) as Exclude<typeof options, undefined>\n  const handle = new MethodHandler({ name: 'showNavigationBarLoading', success, fail, complete })\n\n  native.showNavigationBarLoading()\n  return handle.success()\n}\n\n/**\n * 隐藏页面导航条加载图标\n *\n * @canUse hideNavigationBarLoading\n */\nexport const hideNavigationBarLoading: typeof Taro.hideNavigationBarLoading = (options?) => {\n  const { success, fail, complete } = (options || {}) as Exclude<typeof options, undefined>\n  const handle = new MethodHandler({ name: 'hideNavigationBarLoading', success, fail, complete })\n\n  native.hideNavigationBarLoading()\n  return handle.success()\n}\n\n/**\n * 设置页面导航条标题\n *\n * @canUse setNavigationBarTitle\n * @__object [title]\n */\nexport const setNavigationBarTitle: typeof Taro.hideNavigationBarLoading = (\n  options?: Taro.setNavigationBarTitle.Option\n) => {\n  // options must be an Object\n  const isObject = shouldBeObject(options)\n  if (!isObject.flag) {\n    const res = { errMsg: `setNavigationBarTitle:fail ${isObject.msg}` }\n    console.error(res.errMsg)\n    return Promise.reject(res)\n  }\n\n  const { title, success, fail, complete } = options as Exclude<typeof options, undefined>\n  const handle = new MethodHandler({ name: 'setNavigationBarTitle', success, fail, complete })\n\n  if (!title || typeof title !== 'string') {\n    return handle.fail({\n      errMsg: getParameterError({\n        para: 'title',\n        correct: 'String',\n        wrong: title,\n      }),\n    })\n  }\n\n  setTitle(title)\n\n  return handle.success()\n}\n/**\n * 设置页面导航条颜色\n *\n * @canUse setNavigationBarColor\n * @__object [backgroundColor, frontColor, animation]\n */\nexport const setNavigationBarColor: typeof Taro.setNavigationBarColor = (options) => {\n  const apiName = 'setNavigationBarColor'\n  // options must be an Object\n  const isObject = shouldBeObject(options)\n  if (!isObject.flag) {\n    const res = { errMsg: `${apiName}:fail ${isObject.msg}` }\n    return Promise.reject(res)\n  }\n\n  const { frontColor, backgroundColor, success, fail, complete, ...otherOptions } = options as Exclude<\n    typeof options,\n  undefined\n  >\n  const handle = new MethodHandler({ name: apiName, success, fail, complete })\n\n  if (!frontColor || typeof frontColor !== 'string') {\n    return handle.fail({\n      errMsg: getParameterError({\n        para: 'frontColor',\n        correct: 'String',\n        wrong: frontColor,\n      }),\n    })\n  }\n\n  if (frontColor && !['#000000', '#ffffff'].includes(frontColor)) {\n    return handle.fail({\n      errMsg: `invalid frontColor \"${frontColor}\"`,\n    })\n  }\n\n  if (!backgroundColor || typeof backgroundColor !== 'string') {\n    return handle.fail({\n      errMsg: getParameterError({\n        para: 'backgroundColor',\n        correct: 'String',\n        wrong: backgroundColor,\n      }),\n    })\n  }\n  native.setNavigationBarColor({ frontColor, backgroundColor, ...otherOptions })\n  return handle.success()\n}\n\n/**\n * 隐藏返回首页按钮\n *\n * @canUse hideHomeButton\n * @null_implementation\n */\nexport const hideHomeButton = () => Promise.resolve()\nexport { loadNavigationStyle, registerNavigationStyleHandler } from './style-event'\n"],"names":[],"mappings":"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"}