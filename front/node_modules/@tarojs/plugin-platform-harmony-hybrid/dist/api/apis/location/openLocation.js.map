{"version":3,"file":"openLocation.js","sources":["../../../../src/api/apis/location/openLocation.ts"],"sourcesContent":["import Taro from '@tarojs/taro'\n\nimport { shouldBeObject } from '../utils'\nimport { MethodHandler } from '../utils/handler'\nimport nativeLocation from './NativeLocation'\n\n/**\n * 打开地图查看位置。(暂不支持scale入参)\n *\n * @canUse openLocation\n * @__object [latitude, longitude, address, name]\n */\nexport const openLocation: typeof Taro.openLocation = (options) => {\n  const isObject = shouldBeObject(options)\n  if (!isObject.flag) {\n    const res = { errMsg: `openLocation:fail ${isObject.msg}` }\n    return Promise.reject(res)\n  }\n  const {\n    latitude,\n    longitude,\n    address,\n    name,\n    success,\n    fail,\n    complete\n  } = options\n  const handle = new MethodHandler({ name: 'openLocation', success, fail, complete })\n  return new Promise<TaroGeneral.CallbackResult>((resolve, reject) => {\n    nativeLocation.openLocation({\n      latitude,\n      longitude,\n      address,\n      name,\n      success: (res: any) => {\n        handle.success(res, { resolve, reject })\n      },\n      fail: (res: any) => {\n        handle.fail(res, { resolve, reject })\n      }\n    })\n  })\n}\n"],"names":[],"mappings":";;;;AAMA;;;;;AAKG;AACU,MAAA,YAAY,GAA6B,CAAC,OAAO,KAAI;AAChE,IAAA,MAAM,QAAQ,GAAG,cAAc,CAAC,OAAO,CAAC,CAAA;AACxC,IAAA,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE;QAClB,MAAM,GAAG,GAAG,EAAE,MAAM,EAAE,CAAqB,kBAAA,EAAA,QAAQ,CAAC,GAAG,CAAE,CAAA,EAAE,CAAA;AAC3D,QAAA,OAAO,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,CAAA;KAC3B;AACD,IAAA,MAAM,EACJ,QAAQ,EACR,SAAS,EACT,OAAO,EACP,IAAI,EACJ,OAAO,EACP,IAAI,EACJ,QAAQ,EACT,GAAG,OAAO,CAAA;AACX,IAAA,MAAM,MAAM,GAAG,IAAI,aAAa,CAAC,EAAE,IAAI,EAAE,cAAc,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC,CAAA;IACnF,OAAO,IAAI,OAAO,CAA6B,CAAC,OAAO,EAAE,MAAM,KAAI;QACjE,cAAc,CAAC,YAAY,CAAC;YAC1B,QAAQ;YACR,SAAS;YACT,OAAO;YACP,IAAI;AACJ,YAAA,OAAO,EAAE,CAAC,GAAQ,KAAI;gBACpB,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAA;aACzC;AACD,YAAA,IAAI,EAAE,CAAC,GAAQ,KAAI;gBACjB,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,MAAM,EAAE,CAAC,CAAA;aACtC;AACF,SAAA,CAAC,CAAA;AACJ,KAAC,CAAC,CAAA;AACJ;;;;"}