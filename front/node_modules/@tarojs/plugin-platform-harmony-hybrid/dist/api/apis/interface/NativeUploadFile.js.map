{"version":3,"file":"NativeUploadFile.js","sources":["../../../../src/api/apis/interface/NativeUploadFile.ts"],"sourcesContent":["import Taro from '@tarojs/api'\n\nimport { ClassInstanceManager } from './ClassInstanceManager'\n\nexport class NativeUploadFile implements Taro.UploadTask {\n  readonly className: string = 'NativeUploadFile'\n  private objectId: number\n\n  constructor (option: any) {\n    const options = {\n      ...option,\n      success: (res: any) => {\n        option?.success(res)\n        this.destroy()\n      },\n      fail: (res: any) => {\n        option?.fail(res)\n        this.destroy()\n      }\n    }\n    this.objectId = ClassInstanceManager.getInstance().createInstance(this.className, options)\n  }\n\n  static getUploadTask (option: any) {\n    return new NativeUploadFile(option)\n  }\n\n  abort (): void {\n    ClassInstanceManager.getInstance().setInstanceFunction({}, this.className, 'abort', this.objectId)\n    this.destroy()\n  }\n\n  offHeadersReceived (option: any): void {\n    ClassInstanceManager.getInstance().setInstanceFunction(option, this.className, 'offHeadersReceived', this.objectId)\n  }\n\n  offProgressUpdate (option: any): void {\n    ClassInstanceManager.getInstance().setInstanceFunction(option, this.className, 'offProgressUpdate', this.objectId)\n  }\n\n  onHeadersReceived (option: any): void {\n    ClassInstanceManager.getInstance().setInstanceFunctionAsync(option, this.className, 'onHeadersReceived', this.objectId)\n  }\n\n  onProgressUpdate (option: any): void {\n    ClassInstanceManager.getInstance().setInstanceFunctionAsync(option, this.className, 'onProgressUpdate', this.objectId)\n  }\n\n  destroy (): void {\n    ClassInstanceManager.getInstance().destroyInstance(this.className, this.objectId)\n  }\n}\n"],"names":[],"mappings":";;MAIa,gBAAgB,CAAA;AAI3B,IAAA,WAAA,CAAa,MAAW,EAAA;QAHf,IAAS,CAAA,SAAA,GAAW,kBAAkB,CAAA;QAI7C,MAAM,OAAO,mCACR,MAAM,CAAA,EAAA,EACT,OAAO,EAAE,CAAC,GAAQ,KAAI;gBACpB,MAAM,KAAA,IAAA,IAAN,MAAM,KAAN,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,MAAM,CAAE,OAAO,CAAC,GAAG,CAAC,CAAA;gBACpB,IAAI,CAAC,OAAO,EAAE,CAAA;AAChB,aAAC,EACD,IAAI,EAAE,CAAC,GAAQ,KAAI;gBACjB,MAAM,KAAA,IAAA,IAAN,MAAM,KAAN,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,MAAM,CAAE,IAAI,CAAC,GAAG,CAAC,CAAA;gBACjB,IAAI,CAAC,OAAO,EAAE,CAAA;AAChB,aAAC,GACF,CAAA;AACD,QAAA,IAAI,CAAC,QAAQ,GAAG,oBAAoB,CAAC,WAAW,EAAE,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAA;KAC3F;IAED,OAAO,aAAa,CAAE,MAAW,EAAA;AAC/B,QAAA,OAAO,IAAI,gBAAgB,CAAC,MAAM,CAAC,CAAA;KACpC;IAED,KAAK,GAAA;AACH,QAAA,oBAAoB,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;QAClG,IAAI,CAAC,OAAO,EAAE,CAAA;KACf;AAED,IAAA,kBAAkB,CAAE,MAAW,EAAA;AAC7B,QAAA,oBAAoB,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,EAAE,oBAAoB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;KACpH;AAED,IAAA,iBAAiB,CAAE,MAAW,EAAA;AAC5B,QAAA,oBAAoB,CAAC,WAAW,EAAE,CAAC,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,EAAE,mBAAmB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;KACnH;AAED,IAAA,iBAAiB,CAAE,MAAW,EAAA;AAC5B,QAAA,oBAAoB,CAAC,WAAW,EAAE,CAAC,wBAAwB,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,EAAE,mBAAmB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;KACxH;AAED,IAAA,gBAAgB,CAAE,MAAW,EAAA;AAC3B,QAAA,oBAAoB,CAAC,WAAW,EAAE,CAAC,wBAAwB,CAAC,MAAM,EAAE,IAAI,CAAC,SAAS,EAAE,kBAAkB,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;KACvH;IAED,OAAO,GAAA;AACL,QAAA,oBAAoB,CAAC,WAAW,EAAE,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAA;KAClF;AACF;;;;"}