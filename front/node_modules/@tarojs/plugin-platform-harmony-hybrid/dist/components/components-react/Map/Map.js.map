{"version":3,"file":"Map.js","sources":["../../../../src/components/components-react/Map/Map.tsx"],"sourcesContent":["import React from 'react'\n\nimport sameLayerRender, { clearJsObj } from '../SameLayerRender'\n\ninterface marker {\n  latitude: number\n  longitude: number\n  title?: string\n  zIndex?: number // 图标所在层级\n  iconPath?: string // 图标路径，当前仅支持base64图片\n  rotate?: number // 图标旋转角度\n  alpha?: number // 图标透明度，取值范围为0-1\n  width?: number // 图标宽度\n  height?: number // 图标高度\n  anchor?: {\n    x: number // 锚点X坐标，范围0-1\n    y: number // 锚点Y坐标，范围0-1\n  }\n}\n\ninterface IProps extends React.HTMLAttributes<HTMLDivElement> {\n  latitude: number\n  longitude: number\n  scale?: number // 缩放级别，取值范围为 3-20, 默认为16，鸿蒙取值范围是2-20\n  rotate?: number // 旋转角度\n  skew?: number // 倾斜角度\n  minScale?: number // 最小缩放级别 3-20，鸿蒙取值范围是2-20, 对应minZoom\n  maxScale?: number // 最大缩放级别 3-20，鸿蒙取值范围是2-20, 对应maxZoom\n  enableZoom?: boolean // 是否支持缩放手势\n  enableScroll?: boolean // 是否支持拖动手势\n  enableRotate?: boolean // 是否支持旋转手势\n  showCompass?: boolean // 显示指南针\n  showScale?: boolean // 显示比例尺\n  showLocation?: boolean // 显示当前定位点\n  enableTraffic?: boolean // 是否显示路况图层\n  markers?: marker[] // 标记点\n  onTap?: (e: any) => void // 点击地图时触发\n  onMarkerTap?: (e: any) => void // 点击marker时触发\n  onCalloutTap?: (e: any) => void // 点击气泡时触发\n  onUpdated?: (e: any) => void // 地图加载完成时触发\n  onRegionChange?: (e: any) => void // 视野发生变化时触发\n  onPoiTap?: (e: any) => void // 点击poi时触发\n  onPolylineTap?: (e: any) => void // 点击折线时触发\n  onError?: (e: any) => void // 地图加载失败时触发\n  onAnchorPointTap?: (e: any) => void // 点击定位按钮时触发\n}\n\nclass HosMap extends React.Component<IProps> {\n  private componentId: string\n  private nativeRenderArgs: object\n  constructor (props: IProps) {\n    super(props)\n    this.componentId = `HosMap_${Math.floor(Math.random() * 100000)}_${Date.now()}`\n  }\n\n  componentDidMount (): void {\n    const {\n      latitude,\n      longitude,\n      scale,\n      rotate,\n      skew,\n      minScale,\n      maxScale,\n      enableZoom,\n      enableScroll,\n      enableRotate,\n      showCompass,\n      showScale,\n      showLocation,\n      enableTraffic,\n      markers,\n      onTap,\n      onMarkerTap,\n      onCalloutTap,\n      onUpdated,\n      onRegionChange,\n      onPoiTap,\n      onPolylineTap,\n      onError,\n      onAnchorPointTap,\n    } = this.props\n\n    this.nativeRenderArgs = {\n      componentId: this.componentId,\n      latitude,\n      longitude,\n      zoom: scale,\n      bearing: rotate,\n      tilt: skew,\n      minZoom: minScale,\n      maxZoom: maxScale,\n      zoomGesturesEnabled: enableZoom,\n      scrollGesturesEnabled: enableScroll,\n      rotateGesturesEnabled: enableRotate,\n      compassControlsEnabled: showCompass,\n      scaleControlsEnabled: showScale,\n      setMyLocationEnabled: showLocation,\n      setTrafficEnabled: enableTraffic,\n      markers,\n      onMapClick: onTap,\n      onMarkerClick: onMarkerTap,\n      onBubbleClick: onCalloutTap,\n      onMapLoad: onUpdated,\n      onCameraChange: onRegionChange,\n      onPoiClick: onPoiTap,\n      onPolylineClick: onPolylineTap,\n      onError: onError,\n      onMyLocationButtonClick: onAnchorPointTap,\n    }\n    sameLayerRender.transferSameLayerArgs(this.nativeRenderArgs)\n  }\n\n  componentWillUnmount (): void {\n    // 释放JS侧存储的渲染参数\n    clearJsObj(this.nativeRenderArgs)\n  }\n\n  render (): React.ReactNode {\n    const { style, className, id } = this.props\n    return (\n      <div className={className} style={style} id={id}>\n        <embed\n          style={{ width: '100%', height: '100%', objectPosition: 'inherit', display: 'block' }}\n          id={this.componentId}\n          type=\"native/hos-map\" />\n      </div>\n    )\n  }\n}\n\nexport default HosMap\n"],"names":["_jsx"],"mappings":";;;;AA+CA,MAAM,MAAO,SAAQ,KAAK,CAAC,SAAiB,CAAA;AAG1C,IAAA,WAAA,CAAa,KAAa,EAAA;QACxB,KAAK,CAAC,KAAK,CAAC,CAAA;QACZ,IAAI,CAAC,WAAW,GAAG,CAAA,OAAA,EAAU,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC,CAAA,CAAA,EAAI,IAAI,CAAC,GAAG,EAAE,CAAA,CAAE,CAAA;KAChF;IAED,iBAAiB,GAAA;QACf,MAAM,EACJ,QAAQ,EACR,SAAS,EACT,KAAK,EACL,MAAM,EACN,IAAI,EACJ,QAAQ,EACR,QAAQ,EACR,UAAU,EACV,YAAY,EACZ,YAAY,EACZ,WAAW,EACX,SAAS,EACT,YAAY,EACZ,aAAa,EACb,OAAO,EACP,KAAK,EACL,WAAW,EACX,YAAY,EACZ,SAAS,EACT,cAAc,EACd,QAAQ,EACR,aAAa,EACb,OAAO,EACP,gBAAgB,GACjB,GAAG,IAAI,CAAC,KAAK,CAAA;QAEd,IAAI,CAAC,gBAAgB,GAAG;YACtB,WAAW,EAAE,IAAI,CAAC,WAAW;YAC7B,QAAQ;YACR,SAAS;AACT,YAAA,IAAI,EAAE,KAAK;AACX,YAAA,OAAO,EAAE,MAAM;AACf,YAAA,IAAI,EAAE,IAAI;AACV,YAAA,OAAO,EAAE,QAAQ;AACjB,YAAA,OAAO,EAAE,QAAQ;AACjB,YAAA,mBAAmB,EAAE,UAAU;AAC/B,YAAA,qBAAqB,EAAE,YAAY;AACnC,YAAA,qBAAqB,EAAE,YAAY;AACnC,YAAA,sBAAsB,EAAE,WAAW;AACnC,YAAA,oBAAoB,EAAE,SAAS;AAC/B,YAAA,oBAAoB,EAAE,YAAY;AAClC,YAAA,iBAAiB,EAAE,aAAa;YAChC,OAAO;AACP,YAAA,UAAU,EAAE,KAAK;AACjB,YAAA,aAAa,EAAE,WAAW;AAC1B,YAAA,aAAa,EAAE,YAAY;AAC3B,YAAA,SAAS,EAAE,SAAS;AACpB,YAAA,cAAc,EAAE,cAAc;AAC9B,YAAA,UAAU,EAAE,QAAQ;AACpB,YAAA,eAAe,EAAE,aAAa;AAC9B,YAAA,OAAO,EAAE,OAAO;AAChB,YAAA,uBAAuB,EAAE,gBAAgB;SAC1C,CAAA;AACD,QAAA,eAAe,CAAC,qBAAqB,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAA;KAC7D;IAED,oBAAoB,GAAA;;AAElB,QAAA,UAAU,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAA;KAClC;IAED,MAAM,GAAA;QACJ,MAAM,EAAE,KAAK,EAAE,SAAS,EAAE,EAAE,EAAE,GAAG,IAAI,CAAC,KAAK,CAAA;QAC3C,QACEA,aAAK,SAAS,EAAE,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,YAC7CA,GACE,CAAA,OAAA,EAAA,EAAA,KAAK,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,cAAc,EAAE,SAAS,EAAE,OAAO,EAAE,OAAO,EAAE,EACrF,EAAE,EAAE,IAAI,CAAC,WAAW,EACpB,IAAI,EAAC,gBAAgB,EAAA,CAAG,EACtB,CAAA,EACP;KACF;AACF;;;;"}