function serialize(i){return c(i)}function c(i,n){return typeof i=="string"?`'${i}'`:new y(n).serialize(i)}const y=/*@__PURE__*/function(){class i{#t;constructor(t=new Map){this.#t=t;}compare(t,r){return String.prototype.localeCompare.call(u(t)??c(t,this.#t),u(r)??c(r,this.#t))}serialize(t){return this["$"+(t===null?"null":typeof t)].call(this,t)}serializeObject(t){const r=Object.prototype.toString.call(t);let e="";const s=r.length;if(s<10?e="unknown:["+r+"]":e=r.slice(8,s-1),e!=="Object"&&e!=="Function"&&e!=="AsyncFunction"){const a=this["$"+e];if(a)return a.call(this,t);if(typeof t?.entries=="function")return this.serializeObjectEntries(e,t.entries());throw new Error(`Cannot serialize ${e}`)}const o=t.constructor.name,l=o==="Object"?"":o;return typeof t.toJSON=="function"?l+this.$object(t.toJSON()):this.serializeObjectEntries(l,Object.entries(t))}serializeObjectEntries(t,r){const e=Array.from(r).sort((o,l)=>this.compare(o[0],l[0]));let s=`${t}{`;for(let o=0;o<e.length;o++){const[l,a]=e[o];s+=`${l}:`,s+=this.serialize(a),o<e.length-1&&(s+=",");}return s+"}"}$string(t){return `'${t}'`}$symbol(t){return t.toString()}$bigint(t){return `${t}n`}$object(t){let r=this.#t.get(t);return r===void 0&&(this.#t.set(t,`#${this.#t.size}`),r=this.serializeObject(t),this.#t.set(t,r)),r}$function(t){const r=Function.prototype.toString.call(t);return r.slice(-15)==="[native code] }"?`${t.name||""}()[native]`:`${t.name}(${t.length})${r.replace(/\s*\n\s*/g,"")}`}$Array(t){let r="[";for(let e=0;e<t.length;e++)r+=this.serialize(t[e]),e<t.length-1&&(r+=",");return r+"]"}$Date(t){return `Date(${t.toJSON()})`}$ArrayBuffer(t){return `ArrayBuffer[${Array.prototype.slice.call(new Uint8Array(t)).join(",")}]`}$Set(t){return `Set${this.$Array(Array.from(t).sort((r,e)=>this.compare(r,e)))}`}$Map(t){return this.serializeObjectEntries("Map",t.entries())}}for(const n of ["boolean","number","null","undefined"])i.prototype["$"+n]=function(t){return `${t}`};for(const n of ["Error","RegExp","URL"])i.prototype["$"+n]=function(t){return `${n}(${t.toString()})`};for(const n of ["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])i.prototype["$"+n]=function(t){return `${n}[${Array.prototype.slice.call(t).join(",")}]`};for(const n of ["BigInt64Array","BigUint64Array"])i.prototype["$"+n]=function(t){return `${n}[${Array.prototype.slice.call(t).map(r=>`${r}n`).join(",")}]`};return i}();function u(i){if(i===null)return "null";const n=typeof i;if(!(n==="symbol"||n==="function"||n==="object"))return String(i)}

export { serialize as s };
