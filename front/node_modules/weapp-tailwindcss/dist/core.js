"use strict";Object.defineProperty(exports, "__esModule", {value: true});

var _chunkG2TGR4BFjs = require('./chunk-G2TGR4BF.js');
require('./chunk-PLMJW644.js');
require('./chunk-XWGMPET3.js');
require('./chunk-O335YLYH.js');
require('./chunk-LDRIZFAI.js');

// src/core.ts
var _shared = require('@weapp-tailwindcss/shared');
function createContext(options = {}) {
  const opts = _chunkG2TGR4BFjs.getCompilerContext.call(void 0, options);
  const { templateHandler, styleHandler, jsHandler, twPatcher } = opts;
  let runtimeSet = /* @__PURE__ */ new Set();
  twPatcher.patch();
  function transformWxss(rawCss, options2) {
    return styleHandler(rawCss, _shared.defuOverrideArray.call(void 0, options2, {
      isMainChunk: true
    }));
  }
  async function transformJs(rawJs, options2 = {}) {
    runtimeSet = options2 && options2.runtimeSet ? options2.runtimeSet : await twPatcher.getClassSet();
    return await jsHandler(rawJs, runtimeSet, options2);
  }
  function transformWxml(rawWxml, options2) {
    return templateHandler(rawWxml, _shared.defuOverrideArray.call(void 0, options2, {
      runtimeSet
    }));
  }
  return {
    transformWxss,
    transformWxml,
    transformJs
  };
}


exports.createContext = createContext;
